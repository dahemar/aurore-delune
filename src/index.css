body {
  font-size: 20px;
  font-family: FairyDustB;
  background-image: url("/images/background.jpg");
  background-size: cover;
  background-repeat: no-repeat;
  background-position: center;
  background-attachment: fixed;
  margin: 0;
}

@font-face {
  font-family: "FairyDustB";
  src: url("/fonts/FairydustB.woff") format("woff");
  font-weight: normal;
  font-style: normal;
  font-display: swap;
}

.cursive-glow {
  font-family: "FairyDustB", cursive;
  font-size: 20px;
  color: #ffeaea;
  text-align: center;
  padding: 100px 20px;
  text-shadow: 0 0 2px #000, 0 0 6px #8f3dff, 0 0 12px #c26bff, 0 0 18px #eebfff;
}

.checklist ul {
  list-style: none;
  padding: 0;
  margin: 200px auto 0 auto;
  text-align: center;
}

.checklist li { margin-bottom: 15px; }
.checklist label { padding-left: 8px; /* Añadir más espacio entre checkbox y texto */ }

h1 { color: rgb(246, 236, 248); margin: 0 auto; text-align: center; }

h2 { color: rgb(180, 170, 189); margin: 0 auto; text-align: center; }


.type-container { width: 100%; overflow: hidden; position: relative; }
.type-h2 { display: inline-block; white-space: nowrap; position: relative; }
.type-h2::after { content: ""; display: inline-block; width: 2px; height: 1em; background: currentColor; margin-left: 4px; animation: blink 0.9s steps(1) infinite; vertical-align: -0.1em; }
@keyframes blink { 50% { opacity: 0; } }

.home-logo { display: block; text-align: center; margin-bottom: 20px; position: fixed; top: 10px; left: 10px; z-index: 1000; }
.home-logo img { width: 100px; height: auto; cursor: pointer; transition: transform 0.2s ease; }

.gallery { display: flex; gap: 10px; margin-top: 50px; }
.gallery img { cursor: pointer; transition: transform 0.3s ease; }
.gallery img:hover { transform: scale(1.05); }

#overlay { position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: rgba(0,0,0,0.5); backdrop-filter: blur(8px); z-index: 1000; display: flex; align-items: center; justify-content: center; }
#overlay.hidden { display: none; }
.lightbox { text-align: center; color: white; }
#lightbox-image { max-width: 80%; max-height: 80%; border: 5px solid white; margin-bottom: 10px; }
#lightbox-caption { font-size: 18px; color: white; }

.hover-word { cursor: default; }
.trail { position: absolute; pointer-events: none; white-space: nowrap; user-select: none; font-family: inherit; font-size: 1em; opacity: 1; animation: fade-trail 1s ease-out forwards; color: #000; text-shadow: none; }
@keyframes fade-trail { to { opacity: 0; transform: translateY(-20px); } }

/* Home icon glow */
.home-logo:hover img { filter: drop-shadow(0 0 10px rgba(255,255,255,0.75)) drop-shadow(0 0 18px rgba(255,255,255,0.5)); transform: scale(1.01); }
.home-logo img.glow { filter: drop-shadow(0 0 6px #fff) drop-shadow(0 0 14px #8f3dff) drop-shadow(0 0 22px #8f3dff) !important; transform: scale(1.02) !important; transition: filter 0.2s, transform 0.2s; }
.home-logo:hover img.glow { filter: drop-shadow(0 0 6px #fff) drop-shadow(0 0 14px #8f3dff) drop-shadow(0 0 22px #8f3dff) !important; transform: scale(1.02) !important; }

.container { display: flex; min-height: 200vh; }
.sidebar ul { list-style: none; margin: 0; padding: 0; }
.sidebar li { margin-bottom: 20px; }
.sidebar a { display: block; text-decoration: none; color: black; padding: 8px 16px; transition: background 0.2s; }
.sidebar a:hover { background: rgba(255, 255, 255, 0.1); }
.main-content { flex: 1; padding: 20px; }
.main-content .gallery img { max-width: 100%; height: auto; }

.content-box { background-color: rgba(0,0,0,0.4); color: white; padding: 20px; margin: 0 auto; width: 90%; border-radius: 10px; }


@media (max-width: 768px) { .content-box { width: 95vw; max-width: none; margin: 0 auto; padding: 15px; } }
body.page1 .content-box { width: 100%; margin-right: auto; }

.simple-dropdown { text-align: center; margin-top: 500px; font-family: inherit; color: black; }
.simple-dropdown label { font-size: 24px; font-weight: bold; display: block; margin-bottom: 10px; }
.simple-dropdown select { font-size: 16px; padding: 8px 12px; background-color: white; color: black; border: 1px solid #ccc; border-radius: 4px; }

.checklist a { color: inherit; text-decoration: none; margin-top: 300px; }

figure { margin-bottom: 70px; text-align: center; }
figcaption { font-size: 0.9em; color: #eee; margin-top: 5px; text-shadow: 0 1px 2px #000; }

.poem { line-height: 1.2; margin-bottom: 40px; white-space: pre-line; }

#fly { transition: transform 1s ease-in-out; }

.main-column { margin-left: 200px; padding: 20px; max-width: 800px; }

img { filter: sepia(10%) grayscale(5%) blur(0.3px); opacity: 0.96; }

#audio-player { width: 250px; height: 30px; border-radius: 0 !important; overflow: hidden; }
#audio-player::-webkit-media-controls-panel { border-radius: 0 !important; }
#audio-player::-webkit-media-controls-enclosure { border-radius: 0 !important; }

@media (max-width: 768px) {
  #audio-player { width: 200px; height: 40px; right: 10px; bottom: 10px; }
}

/* Prevent horizontal scroll */
html, body { overflow-x: hidden; }

/* Disable hover on touch */
@media (hover: none) { .gallery img:hover { transform: none !important; } .sidebar a:hover { background: transparent !important; } }

/* Mobile reset */
@media (max-width: 768px) {
  body { font-size: 18px; background-attachment: fixed; background-size: cover; background-position: center center; }
  .cursive-glow { padding: 48px 12px; font-size: 18px; }
  .container { display: flex; flex-direction: column; min-height: auto; align-items: center; }
  .home-logo { position: fixed; top: 8px; left: 8px; z-index: 1000; }
  .home-logo img { width: 72px; height: auto; }
  .main-content { padding: 12px; margin: 0 auto; max-width: 92vw; width: 92vw; box-sizing: border-box; flex: 0 0 auto; transform: translateX(-28px); }
  h1, h2 { text-align: center; margin-left: 0; }
  h1 { font-size: 1.6rem; }
  h2 { font-size: 1.1rem; }
  .type-container { overflow: visible; margin: 0 auto; max-width: 92vw; }
  .type-h2 { display: block; white-space: normal; max-width: 92vw; margin: 0 auto; line-height: 1.3; overflow-wrap: anywhere; hyphens: auto; text-align: center; }
  .checklist ul { margin: 24px auto 0 auto; padding: 0; }
  .checklist li { margin-bottom: 12px; }
  .simple-dropdown { text-align: center; margin-top: 24px; margin: 16px auto 0 auto; }
  #lightbox-image { max-width: 92vw; max-height: 70vh; }
  .floating-gallery { width: 100%; margin: 0 auto; }
  .floating-gallery figure { width: 45vw; /* Aumentado de 30vw a 45vw (50% más grande) */ }
  .floating-gallery figure.big-figure { width: 52.5vw; /* Aumentado de 35vw a 52.5vw (50% más grande) */ }
  .content-box { margin: 12px auto; padding: 14px; width: 92vw; text-align: center; transform: translateX(-38px); }
  .content-box img { display: block; margin: 12px auto; max-width: 100%; height: auto; }
  .poem, blockquote { margin-left: auto; margin-right: auto; max-width: 92vw; }
  img { max-width: 100%; height: auto; }
  #audio-player { width: 200px; height: 40px; right: 10px; bottom: 10px; }
}

@media (max-width: 480px) {
  body { font-size: 16px; }
  .home-logo img { width: 64px; }
  .cursive-glow { padding-top: 56px; }
  .simple-dropdown select { font-size: 14px; padding: 8px 10px; }
  .floating-gallery figure { width: 54vw; } /* Aumentado de 36vw a 54vw (50% más grande) */
  .floating-gallery figure.big-figure { width: 66vw; } /* Aumentado de 44vw a 66vw (50% más grande) */
}

/* Home specific mobile background zoom */
@media (max-width: 768px) {
  body.home { min-height: 100dvh; background-attachment: fixed; background-size: cover; background-position: center center; background-repeat: no-repeat; }
}

/* Only show flies on home on mobile */
@media (max-width: 768px) {
  .fly { display: none !important; }
  body.home .fly { display: block !important; }
}

/* Floating gallery tweaks */
.floating-gallery figure { margin: 0; }
.floating-gallery img { display: block; width: 100%; height: auto; pointer-events: none; }

@media (max-width: 768px) {
  h1 { margin: 8px auto; }
  h2 { margin: 6px auto; }
  .main-column { margin-left: 0 !important; padding: 12px; max-width: 92vw; margin-right: auto; margin-left: auto; }
  .poem { width: 92vw; margin-left: auto; margin-right: auto; transform: translateX(-8px); }
}

/* Remove any sidebar layout impact */
.sidebar { display: contents; }

@media (max-width: 768px) {
  .main-content { margin-left: 0 !important; margin-right: 0 !important; max-width: 92vw; margin: 0 auto !important; }
}

/* Mobile styles */
@media (max-width: 768px) {
  .content-box {
    margin: 20px 15px;
    padding: 20px 15px;
    transform: translateX(-38px);
  }

  .content-box h1 {
    font-size: 1.8rem;
    margin-bottom: 24px;
  }

  .type-container {
    margin: 15px 0;
  }

  .typewriter {
    font-size: 1rem;
    line-height: 1.4;
  }

  .floating-gallery { 
    width: 100%; 
    margin: 0 auto; 
  }
  
  .floating-gallery figure { 
    width: 45vw; /* Aumentado de 30vw a 45vw (50% más grande) */
  }
  
  .floating-gallery figure.big-figure { 
    width: 52.5vw; /* Aumentado de 35vw a 52.5vw (50% más grande) */
  }

  .floating-gallery figure {
    margin: 0;
  }
  
  .floating-gallery img { 
    display: block; 
    width: 100%; 
    height: auto; 
    pointer-events: none; 
  }

  .poem blockquote p {
    font-size: 0.9rem;
    line-height: 1.5;
    margin: 15px 0;
  }

  .checklist {
    margin: 20px 15px;
    padding: 15px;
  }

  .checklist h3 {
    font-size: 1.2rem;
    margin-bottom: 15px;
  }

  .checklist label {
    font-size: 0.9rem;
    margin: 8px 0;
    padding-left: 8px; /* Añadir más espacio entre checkbox y texto */
  }

  .song-select {
    margin: 20px 15px;
    padding: 15px;
  }

  .song-select h3 {
    font-size: 1.2rem;
    margin-bottom: 15px;
  }

  .song-select select {
    font-size: 0.9rem;
    padding: 8px 12px;
  }
}

/**************** Page-specific spacing tweaks ****************/
/* Page1: increase spacing only between title, type line, and following line */
.page1 .content-box h1 { margin-bottom: 32px; }
.page1 .type-container { margin: 18px auto 28px auto; }

/* Page2: spacing between h1 and the following line */
.page2 .content-box h1 { margin-bottom: 28px; }

/* Page3: ensure centered content and symmetric padding, especially on mobile */
.page3 .content-box { text-align: center; }
.page3 .content-box .main-content { margin: 0 auto; padding: 0; }
.page3 .content-box img { display: block; margin: 32px auto 8px auto; }

@media (max-width: 768px) {
  .page3 .content-box { width: 92vw; margin: 12px auto; padding: 14px; text-align: center; transform: none; }
  .page3 .content-box .main-content { margin: 0 auto; max-width: 92vw; padding: 0; transform: none; }
  .page3 .type-container { margin: 16px auto 20px auto; }
  .page3 .content-box img { margin: 20px auto 8px auto; max-width: 100%; height: auto; }
}

/* Page3: 27px right shift for title, subtitle, and image */
.page3 .content-box h1 { position: relative; left: 27px; }
.page3 .content-box .type-container .type-h2 { position: relative; left: 27px; }
.page3 .content-box img { position: relative; left: 27px; }

@media (max-width: 768px) {
  /* Keep shift on mobile too, while preserving symmetric paddings */
  .page3 .content-box h1 { left: 27px; }
  .page3 .content-box .type-container .type-h2 { left: 27px; }
  .page3 .content-box img { left: 27px; }
}
